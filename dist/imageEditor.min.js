"use strict";var ImageEditor;ImageEditor=function(){function t(t){var e,n;null==t&&(t={}),(t.elt||t.pic)&&(n=this,n.config=t,e=n.config.elt,n.canvas=e.querySelector("canvas"),n.btLeft=e.querySelector(".bt-left"),n.btRight=e.querySelector(".bt-right"),n.btLess=e.querySelector(".bt-less"),n.btMore=e.querySelector(".bt-more"),n.btSave=e.querySelector(".bt-save"),n.doc=document,n.context=n.canvas.getContext("2d"),n.cnvW=n.canvas.width,n.cnvH=n.canvas.height,n.cnvRatio=n.canvas.height/n.canvas.width,n.picture=new Image,n.picture.setAttribute("crossOrigin","anonymous"),n.picture.src=n.config.pic,n.picture.onload=function(){return n.init()})}return t.prototype.init=function(){var t;return t=this,t.btLeft.addEventListener("click",t.turnLeft.bind(t),!1),t.btRight.addEventListener("click",t.turnRight.bind(t),!1),t.btLess.addEventListener("click",t.zoomOut.bind(t),!1),t.btMore.addEventListener("click",t.zoomIn.bind(t),!1),t.btSave.addEventListener("click",t.saveImage.bind(t),!1),t.imgSettings(),t.drawImage(),t.initialized=!0},t.prototype.update=function(t){var e;return e=this,e.picture=new Image,e.picture.setAttribute("crossOrigin","anonymous"),e.picture.src=t,e.imgSettings(),e.drawImage()},t.prototype.imgSettings=function(){var t,e;return e=this,e.picRatio=e.picture.height/e.picture.width,t=e.picRatio<1,e.imgW=t?e.cnvW/e.picRatio:e.cnvW,e.imgH=t?e.cnvH:e.cnvH*e.picRatio},t.prototype.turnLeft=function(){var t;return t=this,console.log("turnLeft")},t.prototype.turnRight=function(){var t;return t=this,console.log("turnRight")},t.prototype.zoomOut=function(){var t;return t=this,console.log("zoomOut")},t.prototype.zoomIn=function(){var t;return t=this,console.log("zoomIn")},t.prototype.drawImage=function(){var t;return t=this,t.context.drawImage(t.picture,0,0,t.imgW,t.imgH)},t.prototype.saveImage=function(){var t;return t=this,console.log("saveImage")},t}();